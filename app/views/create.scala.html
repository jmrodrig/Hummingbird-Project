@(story: controllers.json.Story)

@main("") {
	<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/create.css")">

	<script src="/assets/javascripts/controls/create-view-handlers.js" type="text/javascript"></script>

}{

<script>
	var story = new Object();
	story.id = @story.id;
	story.title = "@story.title"
	if ("@story.content".length > 0)
		story.content = JSON.parse("@story.content".replace(/&quot;/g,'"'));
</script>

<section id="content-wrapper">
	<div id="content-tools" class="btn-group-vertical">
		<a class="btn btn-default" id="toggle-text-size-btn" onclick="toggleTextSize()">text</a>
		<a class="btn btn-default" id="add-picture-btn" >Add Picture
			<form enctype="multipart/form-data" id="image-upload-form">
				<input id="image-upload-input" name="profileImg[]" type="file" />
			</form>
		</a>
		<a class="btn btn-default" id="add-location-btn" onclick="addLocationToCurrentSection()">location</a>
		<a class="btn btn-default" id="add-section-btn" onclick="addSectionAtCurrentPosition()" >add section</a>
		<a class="btn btn-default" id="add-advert-placeholder-btn" onclick="getElementAtCursorPosition()">ads</a>
	</div>
	<div id="story-content">
		<!-- <h1 id="title" class="title text-title-size" contenteditable="true"></h1> -->
	</div>
</section>

<!-- Create Story Collections modal -->
<div id="story-details-modal" class="modal fade">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body">
				<h4 class="modal-title">All set?</h4>
				<div id="story-thumbnail-container">
					<img id="story-thumbnail">
					<div id="thumbnail-controls">
						<a id="prev-picture" onclick="previousThumbnailOnStoryDetailsModal()"><</a>
						<a id="next-picture" onclick="nextThumbnailOnStoryDetailsModal()">></a>
					</div>
				</div>
				<h4 id="story-title" type="text"></h4>
				<label for="story-description">Description</label>
				<textarea id="story-description" rows=4 type="text" placeholder="story description"></textarea>
				<label for="story-location">Location</label>
				<div id="story-location"></div>
				<label for="story-tags">Tags</label>
				<textarea id="story-tags" rows=1 type="text" placeholder="story tags"></textarea>
				<div class="checkbox">
					<label><input id="external-link-checkbox" onchange="toggleExternalLink()" type="checkbox" value="">Is this story published elsewhere?</label>
				</div>
				<input id="story-external-link" type="text" placeholder="external link" disabled>
      </div>
      <div class="modal-footer">
				<p id="story-status"></p>
        <button id="create-collection-btn" type="button" class="btn btn-default" data-dismiss="modal">Close</button>
				<button id="create-collection-btn" type="button" class="btn btn-primary">Save as draft</button>
				<button id="create-collection-btn" type="button" class="btn btn-primary">Publish</button>
      </div>
    </div>
  </div>
</div>

}
